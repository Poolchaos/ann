<template>
  <div class="bordered--5 white container">
    <h1 class="black-text flex flex--justify-between">
      <div style="width: 200px"></div>
      <div class="black-text flex flex--justify-center">
        <img src="../../../assets/images/zanet-logo.png" />
        <div class="spacer-v--10"></div>
        <span>Users</span>
      </div>
      <div class="flex flex--position-end-h" style="width: 200px">
        <!-- <button class="gray hoverable" click.trigger="goToDashboard()">Back</button> -->

        <button
          class="gray hoverable small-font rounded width-120"
          click.trigger="goToDashboard()"
        >
          Back
        </button>
      </div>
    </h1>

    <table
      class="white-bg container width--full"
      cellpadding="0"
      cellspacing="0"
    >
      <thead class="thick-font">
        <tr>
          <td class="border--bottom-gray">Name</td>
          <!-- i18n="page.register.form.contactNumber" -->
          <td class="border--bottom-gray">Contact Details</td>
          <td class="border--bottom-gray" i18n="page.register.form.role"></td>
          <td class="border--bottom-gray text-center" colspan="2">
            Permissions
          </td>
        </tr>
      </thead>
      <tbody>
        <tr repeat.for="user of users" style="line-height: 30px">
          <td class="bb-grey">${user.firstName} ${user.surname}</td>
          <td class="bb-grey">
            <div>${user.email}</div>
            <div>${user.number}</div>
          </td>
          <td class="bb-grey">${user.role}</td>
          <td class="text-center width-90 bb-grey">
            <div
              class="centered mini-font gray-text thick-font"
              if.bind="user.role === 'Admin'"
            >
              NA
            </div>
            <div
              class="centered mini-font gray-text thick-font"
              if.bind="user.role !== 'Admin' && !user.permissions"
            >
              Unuthorized
            </div>
            <button
              class="green hoverable small-font rounded width-90 flex flex--align-center-v m-auto"
              if.bind="user.role !== 'Admin' && !user.permissions"
              click.trigger="enableAccess(user)"
              style="padding: 5px !important"
            >
              <div
                innerhtml.bind="SVGManager.openLock"
                class="white-svg width-10 flex flex--align-center-v mr-5"
              ></div>
              Authorize
            </button>
            <div
              class="centered mini-font gray-text thick-font"
              if.bind="user.role !== 'Admin' && user.permissions"
            >
              Authorized
            </div>
            <button
              class="red hoverable small-font rounded width-90 flex flex--align-center-v m-auto"
              if.bind="user.role !== 'Admin' && user.permissions"
              click.trigger="disableAccess(user)"
              style="padding: 5px !important"
            >
              <div
                innerhtml.bind="SVGManager.ban"
                class="white-svg width-10 flex flex--align-center-v mr-5"
              ></div>
              Block
            </button>
          </td>
          <td class="text-center width-90 bb-grey">
            <div
              class="centered mini-font gray-text thick-font"
              if.bind="user._id === dataStore.user._id"
            >
              NA
            </div>
            <div
              class="centered mini-font gray-text thick-font"
              if.bind="user._id !== dataStore.user._id"
            >
              &nbsp;
            </div>
            <button
              class="crayon-red hoverable small-font rounded width-80 flex flex--align-center-v m-auto"
              if.bind="user._id !== dataStore.user._id"
              click.trigger="removeUser(user)"
              style="padding: 5px !important"
            >
              <div
                innerhtml.bind="SVGManager.bin"
                class="white-svg width-10 flex flex--align-center-v mr-5"
              ></div>
              Remove
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</template>
