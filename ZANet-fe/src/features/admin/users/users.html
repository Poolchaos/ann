<template>
  
  <div class="bordered--5 white container">
    <h1 class="black-text flex flex--justify-center">
      <img src="../../../assets/images/zanet-logo.png" />
      <div class="spacer-v--10"></div>
      <span>Users</span>
    </h1>

    <table class="white-bg container full-width" cellpadding="0" cellspacing="0">
      <thead class="medium-font">
        <tr>
          <td class="border--bottom-gray" i18n="page.register.form.email"></td>
          <td class="border--bottom-gray" i18n="page.register.form.firstName"></td>
          <td class="border--bottom-gray" i18n="page.register.form.lastName"></td>
          <td class="border--bottom-gray" i18n="page.register.form.contactNumber"></td>
          <td class="border--bottom-gray" i18n="page.register.form.role"></td>
          <td class="border--bottom-gray">Permissions</td>
          <td class="border--bottom-gray"></td>
        </tr>
      </thead>
      <tbody>
        <tr repeat.for="user of users">
          <td>${user.email}</td>
          <td>${user.firstName}</td>
          <td>${user.surname}</td>
          <td>${user.number}</td>
          <td>${user.role}</td>
          <td>
            <span if.bind="user.role === 'Admin'">NA</span>
            <button
              class="blue hoverable"
              if.bind="user.role !== 'Admin' && !user.permissions"
              click.trigger="enableAccess(user)">Enable</button>
            <button
              class="blue hoverable"
              if.bind="user.role !== 'Admin' && user.permissions"
              click.trigger="disableAccess(user)">Disable</button>
          </td>
          <td>
            <span if.bind="user._id === dataStore.user._id">- - - - - - -</span>
            <button
              class="blue hoverable"
              if.bind="user._id !== dataStore.user._id"
              click.trigger="removeUser(user)">Remove</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</template>
